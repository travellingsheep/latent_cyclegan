experiment:
  name: "stargan_v2_overfit_id_loss_10"
  outputs_dir: "outputs/{exp_name}"

model:
  latent_channels: 4
  style_dim: 64
  base_dim: 256
  num_domains: 5
  n_res_blocks: 6
  d_layers: 3

  latent_dim: 16
  mapping_hidden_dim: 512
  mapping_shared_layers: 3

loss:
  w_adv: 1.0
  w_sty: 1.0
  w_ds: 1.0
  w_cyc: 1.0
  w_id: 10.0
  w_r1: 10.0
  r1_interval: 16
  ds_decay_epochs: 20

training:
  seed: 42
  batch_size: 64
  num_epochs: 500
  lr_g: 1.0e-4
  lr_d: 1.0e-4
  lr_mapping: 1.0e-6
  weight_decay: 1.0e-4
  use_amp: true
  amp_dtype: bf16
  allow_tf32: true
  cudnn_benchmark: true
  optim_fused: true
  latent_scale: 0.18215
  num_workers: 0
  pin_memory: true
  use_compile: true
  compile_mode: default
  compile_dynamic: false
  compile_fullgraph: false
  compile_cudagraphs: false
  compile_generator: true
  compile_mapping_network: true
  compile_style_encoder: true
  compile_discriminator: false
  drop_last: true
  progress_bar: false
  progress_style: percent
  display_interval: 100
  log_json: true
  log_interval: 50
  save_interval: 10
  # eval_interval: 10

visualization:
  every_epochs: 1
  vae_model_name_or_path: "runwayml/stable-diffusion-v1-5"
  vae_subfolder: "vae"
  suppress_hf_warnings: true
  num_samples: 5
  save_dir: "{outputs_dir}/vis"

data:
  data_root: "../pt_datasets/overfit50"
  domains:
    - photo
    - Hayao
    - monet
    - cezanne
    - vangogh
  preload_to_gpu: true
  epoch_size: null

checkpoint:
  save_dir: "{outputs_dir}/ckpt"
  resume_path: ""
